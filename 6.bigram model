import random
from collections import defaultdict

text = "the cat sat on the cat is happy"
w = text.split()
bg = defaultdict(list)

for i in range(len(w)-1):
    bg[w[i]].append(w[i+1])

s = "the"
for _ in range(10):
    print(s, end=" ")
    if not bg[s]:   # if no next word, stop
        break
    s = random.choice(bg[s])
Output:
the mat the cat sat on the mat the cat
